<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PyMARC en Español - Introducción a PyMarc</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./04_introduccion_pymarc2.html" rel="next">
<link href="./02_introduccion_python.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="css/output.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">PyMARC en Español</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-taller-introductorio-pymarc" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Taller Introductorio PyMARC</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-taller-introductorio-pymarc">    
        <li>
    <a class="dropdown-item" href="./01_introduccion.html">
 <span class="dropdown-text">Introducción y Configuración</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./02_introduccion_python.html">
 <span class="dropdown-text">Python 101</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./03_introduccion_pymarc.html">
 <span class="dropdown-text">Introducción a PyMarc</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./04_introduccion_pymarc2.html">
 <span class="dropdown-text">Búsqueda con PyMARC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./05_introduccion_pymarc3.html">
 <span class="dropdown-text">Editar con PyMARC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./06_introduccion_pymarc4.html">
 <span class="dropdown-text">Guardar archivos MARC</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#qué-es-marc" id="toc-qué-es-marc" class="nav-link active" data-scroll-target="#qué-es-marc">¿Qué es MARC?</a></li>
  <li><a href="#qué-es-pymarc" id="toc-qué-es-pymarc" class="nav-link" data-scroll-target="#qué-es-pymarc">¿Qué es PyMarc?</a></li>
  <li><a href="#por-qué-usar-pymarc-en-lugar-de-hacerlo-manualmente" id="toc-por-qué-usar-pymarc-en-lugar-de-hacerlo-manualmente" class="nav-link" data-scroll-target="#por-qué-usar-pymarc-en-lugar-de-hacerlo-manualmente">¿Por qué usar PyMARC en lugar de hacerlo manualmente?</a></li>
  <li><a href="#cuándo-usar-pymarc-y-cuándo-usar-marcedit" id="toc-cuándo-usar-pymarc-y-cuándo-usar-marcedit" class="nav-link" data-scroll-target="#cuándo-usar-pymarc-y-cuándo-usar-marcedit">¿Cuándo usar PyMARC y cuándo usar MarcEdit?</a></li>
  <li><a href="#leer-archivos-marc-con-pymarc" id="toc-leer-archivos-marc-con-pymarc" class="nav-link" data-scroll-target="#leer-archivos-marc-con-pymarc">Leer archivos MARC con PyMARC</a></li>
  <li><a href="#comprendiendo-los-campos-marc-en-pymarc" id="toc-comprendiendo-los-campos-marc-en-pymarc" class="nav-link" data-scroll-target="#comprendiendo-los-campos-marc-en-pymarc">Comprendiendo los campos MARC en PyMARC</a></li>
  <li><a href="#qué-tipos-de-campos-hay" id="toc-qué-tipos-de-campos-hay" class="nav-link" data-scroll-target="#qué-tipos-de-campos-hay">¿Qué tipos de campos hay?</a></li>
  <li><a href="#accesando-los-campos-de-un-archivo-marc" id="toc-accesando-los-campos-de-un-archivo-marc" class="nav-link" data-scroll-target="#accesando-los-campos-de-un-archivo-marc">Accesando los campos de un archivo MARC</a>
  <ul class="collapse">
  <li><a href="#comprendiendo-los-tipos-de-datos-y-objetos-en-python" id="toc-comprendiendo-los-tipos-de-datos-y-objetos-en-python" class="nav-link" data-scroll-target="#comprendiendo-los-tipos-de-datos-y-objetos-en-python">Comprendiendo los tipos de datos y objetos en Python</a></li>
  <li><a href="#cómo-extraer-múltiples-campos-en-pymarc" id="toc-cómo-extraer-múltiples-campos-en-pymarc" class="nav-link" data-scroll-target="#cómo-extraer-múltiples-campos-en-pymarc">Cómo extraer múltiples campos en PyMARC</a></li>
  </ul></li>
  <li><a href="#acceder-a-subcampos-marc-específicos-con-pymarc" id="toc-acceder-a-subcampos-marc-específicos-con-pymarc" class="nav-link" data-scroll-target="#acceder-a-subcampos-marc-específicos-con-pymarc">Acceder a subcampos MARC específicos con PyMARC</a></li>
  <li><a href="#métodos-útiles-en-pymarc-para-acceder-a-campos-marc" id="toc-métodos-útiles-en-pymarc-para-acceder-a-campos-marc" class="nav-link" data-scroll-target="#métodos-útiles-en-pymarc-para-acceder-a-campos-marc">Métodos útiles en PyMARC para acceder a campos MARC</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introducción a PyMarc</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<ul>
<li><p>Sample Data: <a href="data/edited_69x_subject.mrc">edited_69x_subject.mrc</a></p></li>
<li><p>Accede al archivo de Goggle Colab <a href="https://colab.research.google.com/drive/1FI4DCIFxeBIGJECH-w5pkqIU5XfQ51we?usp=sharing">aqui</a></p></li>
</ul>
<section id="qué-es-marc" class="level2">
<h2 class="anchored" data-anchor-id="qué-es-marc">¿Qué es MARC?</h2>
<p><strong>MARC</strong> es el acrónimo de <strong>MA</strong>chine-<strong>R</strong>eadable <strong>C</strong>ataloging (Catalogación legible por máquina). Define un formato de datos que surgió de una iniciativa liderada por la Biblioteca del Congreso de EE.UU. hace más de cincuenta años.</p>
<p>Este formato proporciona un mecanismo para que los ordenadores puedan intercambiar, usar e interpretar información bibliográfica. Los elementos de datos de MARC forman la base de la mayoría de los catálogos de bibliotecas utilizados actualmente.</p>
<p>En los años 80 pasó a llamarse <strong>USMARC</strong>, y a fines de los años 90 se convirtió en <strong>MARC 21</strong>.</p>
<p><strong>Recursos útiles:</strong> - Sitio oficial de MARC: <a href="https://www.loc.gov/marc/">https://www.loc.gov/marc/</a> - Términos y definiciones MARC: <a href="https://www.loc.gov/marc/umb/um01to06.html#part3">https://www.loc.gov/marc/umb/um01to06.html#part3</a> - Formato MARC 21 para datos bibliográficos (completo y resumido): <a href="http://www.loc.gov/marc/bibliographic/">http://www.loc.gov/marc/bibliographic/</a></p>
</section>
<section id="qué-es-pymarc" class="level2">
<h2 class="anchored" data-anchor-id="qué-es-pymarc">¿Qué es PyMarc?</h2>
<p>PyMARC es una biblioteca de Python diseñada para leer, escribir y manipular registros MARC (Machine-Readable Cataloging).</p>
<p>Es muy útil para bibliotecarios, archivistas, desarrolladores y cualquier persona que necesite trabajar con catálogos bibliográficos en formato MARC, especialmente en contextos donde se desea automatizar tareas o integrar datos MARC en otros sistemas.</p>
<p>¿Qué hace exactamente PyMARC? Con PyMARC puedes:</p>
<ul>
<li>Leer archivos MARC (.mrc o .marc)</li>
<li>Acceder a campos y subcampos específicos (como el título, autor, etc.)</li>
<li>Extraer datos y convertirlos a otros formatos (como JSON o CSV)</li>
<li>Crear nuevos registros MARC desde cero</li>
<li>Editar registros existentes</li>
<li>Guardar los cambios en archivos MARC</li>
</ul>
</section>
<section id="por-qué-usar-pymarc-en-lugar-de-hacerlo-manualmente" class="level2">
<h2 class="anchored" data-anchor-id="por-qué-usar-pymarc-en-lugar-de-hacerlo-manualmente">¿Por qué usar PyMARC en lugar de hacerlo manualmente?</h2>
<p>El formato MARC es complejo y binario, no es fácil de leer o procesar sin herramientas especializadas. PyMARC entiende esa estructura y nos da una forma clara de interactuar con ella usando código Python sencillo.</p>
</section>
<section id="cuándo-usar-pymarc-y-cuándo-usar-marcedit" class="level2">
<h2 class="anchored" data-anchor-id="cuándo-usar-pymarc-y-cuándo-usar-marcedit">¿Cuándo usar PyMARC y cuándo usar MarcEdit?</h2>
<table class="table">
<colgroup>
<col style="width: 76%">
<col style="width: 10%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Tarea o Necesidad</th>
<th style="text-align: center;">PyMARC 🐍</th>
<th style="text-align: center;">MarcEdit 🛠️</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Automatizar tareas repetitivas o por lotes</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">🚫</td>
</tr>
<tr class="even">
<td>Procesar registros MARC sin interfaz gráfica (ideal para servidores)</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">🚫</td>
</tr>
<tr class="odd">
<td>Extraer campos y convertir a CSV, JSON, Excel, etc. desde código</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">🚫</td>
</tr>
<tr class="even">
<td>Integrar con APIs, bases de datos, o herramientas como pandas</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">🚫</td>
</tr>
<tr class="odd">
<td>Crear scripts reproducibles o notebooks para talleres</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">🚫</td>
</tr>
<tr class="even">
<td>Editar visualmente registros MARC uno por uno</td>
<td style="text-align: center;">🚫</td>
<td style="text-align: center;">✅</td>
</tr>
<tr class="odd">
<td>Usar sin saber programar (interfaz amigable)</td>
<td style="text-align: center;">🚫</td>
<td style="text-align: center;">✅</td>
</tr>
<tr class="even">
<td>Validar registros MARC con reglas MARC 21</td>
<td style="text-align: center;">🚫</td>
<td style="text-align: center;">✅</td>
</tr>
<tr class="odd">
<td>Convertir entre MARC, MARCXML, MODS, Dublin Core</td>
<td style="text-align: center;">✅ (Solo JSON y MARCXML)</td>
<td style="text-align: center;">✅</td>
</tr>
<tr class="even">
<td>Cargar datos desde hojas de cálculo y exportarlos como MARC</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
</tr>
<tr class="odd">
<td>Trabajar con autoridades (VIAF, Library of Congress, etc.)</td>
<td style="text-align: center;">🚫</td>
<td style="text-align: center;">✅</td>
</tr>
<tr class="even">
<td>Previsualizar y editar campos de forma masiva con herramientas visuales</td>
<td style="text-align: center;">🚫</td>
<td style="text-align: center;">✅</td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>🐍 Usa <strong>PyMARC</strong> si necesitas automatizar, integrar con otras plataformas y transformar de MARC a otro esquema de metadatos. 🛠️ Usa <strong>MarcEdit</strong> si prefieres trabajar visualmente, sin programar, o para tareas de catalogación rápida.</p>
</blockquote>
<p><strong>Un ejemplo concreto:</strong></p>
<p>Quieres extraer todos los títulos y números de control de 10,000 registros MARC y guardarlos en un CSV.</p>
<ul>
<li><p>Con MarcEdit: abrir archivo &gt; convertir a MARC-XML &gt; extraer campos con una herramienta &gt; guardar CSV (todo manual).</p></li>
<li><p>Con PyMARC: un pequeño script de 10 líneas hace todo eso automáticamente.</p></li>
</ul>
<p><strong>¿Y qué no puede hacer PyMARC tan fácilmente?</strong></p>
<p>Justo al revés, MarcEdit:</p>
<ul>
<li><p>Tiene una interfaz visual amigable (no necesitas saber código).</p></li>
<li><p>Permite hacer validaciones y conversiones MARC &lt;-&gt; MARCXML fácilmente.</p></li>
<li><p>Es excelente para tareas pequeñas o puntuales.</p></li>
</ul>
</section>
<section id="leer-archivos-marc-con-pymarc" class="level2">
<h2 class="anchored" data-anchor-id="leer-archivos-marc-con-pymarc">Leer archivos MARC con PyMARC</h2>
<p>Para leer archivos MARC, analicemos el siguiente script:</p>
<div id="c8f6989a" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importamos la biblioteca pymarc, que nos ayuda a leer archivos MARC</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pymarc</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos el nombre del archivo MARC que vamos a leer</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>my_marc_file <span class="op">=</span> <span class="st">"data/edited_69x_subject.mrc"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Abrimos el archivo en modo binario ('rb' significa 'read binary')</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(my_marc_file, <span class="st">'rb'</span>) <span class="im">as</span> data:</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Creamos un lector de registros MARC a partir del archivo abierto</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    reader <span class="op">=</span> pymarc.MARCReader(data)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Recorremos cada registro en el archivo MARC</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> record <span class="kw">in</span> reader:</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Imprimimos el título del registro (extraído del campo 245)</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(record)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Detener después del primer registro (para ejemplo)</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=LDR  04819cpcaa2200505 a 4500
=001  12251425
=005  20240304103124.0
=008  140917i19772014ctu\\\\\\\\\\\\\\\\\eng\d
=035  \\$9(YUL)ead.mssa.ms.2000
=035  \\$a12251425
=040  \\$aCtY$beng$cCtY$edacs
=079  \\$a(OCoLC)1007214876
=090  \\$aMS 2000
=110  2\$aFamily Equality Council.$0http://id.loc.gov/authorities/names/no2012037822
=245  10$aFamily Equality Council records,$f1977-2014 (inclusive).
=300  \\$a11 linear feet. (23 boxes)
=351  \\$aThe materials are arranged according to document type.
=506  \\$aThe materials are open for research with the exception of the  electronic files, which are closed until processed.
=520  \\$aThis collection consists of the records of Family Equality Council, a national advocacy organization for esbian, gay, bisexual, transgender, and queer (LGBTQ) parents, guardians, and allies. Materials in the collection consist of correspondence, annual and quarterly reports, articles and clippings, board of directors records, event records, financial and fundraising records, publications, subject files, and electronic files. The collection is particularly strong both for its documentation of the group's activism and advocacy efforts, as well as its efforts to provide community for and document the everyday lives and experiences of LGBTQ families.
=524  \\$aFamily Equality Council Records (MS 2000).  Manuscripts and Archives, Yale University Library.
=540  \\$aCopyright is retained by the creator(s) of this collection for materials they have authored or otherwise produced. After the lifetime of the creator(s) or until January 1, 2039 (date), whichever comes first, copyright passes to Yale University whether such works are at Yale or physically located elsewhere in the world. Copyright status for other collection materials is unknown. Additional information is provided in the finding aid.
=544  \\$aRelated material: Rainbow Families records (MS 2006).
=545  \\$aFamily Equality Council is a national advocacy organization dedicated to securing equal rights for lesbian, gay, bisexual, transgender, and queer (LGBTQ) parents, guardians, and allies. Family Equality Council has its origins in the Gay Fathers Coalition, an organization founded in 1979. In 1986, the Gay Fathers Coalition expanded to include lesbian mothers, prompting the group to rename itself the Gay and Lesbian Parents Coalition International (GLPCI). In 1998, GLPCI changed its name to the Family Pride Coalition in order to include bisexual and transgender parents among its members and constituents. In that same year, a group of youth who had been involved with Family Pride Coalition established a separate advocacy organization for the children of LGBTQ parents, Children of Lesbians and Gays Everywhere (COLAGE). In 2007, the Family Pride Coalition merged with Rainbow Families, and in that same year renamed itself again as Family Equality Council. Later, the group dropped Council from its name, becoming Family Equality in 2018.
=546  \\$aThe materials are in English.
=555  \\$aThe finding aid is available in the repository and on the Internet.
=561  \\$aThe materials were the gift of Family Equality Council, 2014.
=610  20$aCOLAGE.$0http://id.loc.gov/authorities/names/no2008088417
=610  20$aFamily Equality Council.$0http://id.loc.gov/authorities/names/no2012037822
=610  20$aFamily Pride Coalition.
=610  20$aGay and Lesbian Parents Coalition International.$0http://id.loc.gov/authorities/names/nr2002025214
=610  20$aGay Fathers Coalition.
=610  20$aRainbow Families.
=650  \0$aAdoptive parents.$0http://id.loc.gov/authorities/subjects/sh92003241
=650  \0$aBisexuals$zUnited States.$0http://id.loc.gov/authorities/subjects/sh98006061
=650  \0$aFamilies$zUnited States.$0http://id.loc.gov/authorities/subjects/sh85047032
=650  \0$aGay fathers.$0http://id.loc.gov/authorities/subjects/sh90000760
=650  \0$aGay men$xLegal status, laws, etc.$zUnited States.
=650  \0$aGay parents.$0http://id.loc.gov/authorities/subjects/sh85061779
=650  \0$aGay rights$zUnited States.$0http://id.loc.gov/authorities/subjects/sh2008105072
=650  \0$aLesbian mothers.$0http://id.loc.gov/authorities/subjects/sh85076155
=650  \0$aTransgender people$zUnited States.$0http://id.loc.gov/authorities/subjects/sh2012000715
=650  \0$aTranssexuals$zUnited States.$0http://id.loc.gov/authorities/subjects/sh2003008858
=852  \\$aManuscripts and Archives,$bYale University Library,$eP.O. Box 208240, New Haven, CT  06520-8240.
=856  42$3View a description and listing of collection contents in the finding aid$uhttp://hdl.handle.net/10079/fa/mssa.ms.2000
=690  04$aLGBTQ resource.
</code></pre>
</div>
</div>
<p>Este pequeño script hace lo siguiente:</p>
<ul>
<li><p>Importa la biblioteca pymarc, que nos permite trabajar con registros MARC en Python.</p></li>
<li><p>Define el nombre del archivo que contiene nuestros registros MARC de ejemplo.</p></li>
<li><p>Abre el archivo en modo binario (‘rb’) porque los archivos MARC no son archivos de texto comunes.</p></li>
<li><p>Usa MARCReader para leer el contenido del archivo y lo recorre registro por registro.</p></li>
</ul>
</section>
<section id="comprendiendo-los-campos-marc-en-pymarc" class="level2">
<h2 class="anchored" data-anchor-id="comprendiendo-los-campos-marc-en-pymarc">Comprendiendo los campos MARC en PyMARC</h2>
<p>Es útil entender la estructura de los objetos de datos que estamos viendo cuando leemos un registro MARC, y cómo se relacionan con el formato MARC tradicional que se utiliza en bibliotecas.</p>
<p><strong>¿Qué estamos viendo?</strong></p>
<p>Observa que la primera línea de un registro MARC en formato legible por humanos comienza con un signo de igual (=). Por ejemplo, la primera línea podría ser:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">=LDR</span>  00912cam a2200301 a 4500</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>El signo igual <code>=</code> indica que se trata de una etiqueta de campo o tag.</p></li>
<li><p>Los siguientes tres caracteres (LDR) nos dicen qué campo es.</p></li>
<li><p>En este caso, LDR significa leader o líder, una sección especial que contiene información codificada sobre el registro completo (como su tipo, estatus, etc.).</p></li>
<li><p>Todos los demás campos MARC usan etiquetas numéricas de tres dígitos, por ejemplo:</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">=245</span>  10<span class="va">$aLarger</span> than life :<span class="va">$bthe</span> story of Eric Baume /<span class="va">$cby</span> Arthur Manning.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Aquí 245 es el número de campo.</p></li>
<li><p>Los dos dígitos que siguen (10) son los indicadores, que modifican el significado del campo.</p></li>
<li><p>Lo que sigue son los subcampos, precedidos por el símbolo $. En el ejemplo anterior serian los subcambos $a, $b y $c .</p></li>
</ul>
<p>Dedica un momento a revisar las especificaciones MARC para este campo y compáralas con los datos que tenemos en este registro.</p>
<p>http://www.loc.gov/marc/bibliographic/bd245.html</p>
</section>
<section id="qué-tipos-de-campos-hay" class="level2">
<h2 class="anchored" data-anchor-id="qué-tipos-de-campos-hay">¿Qué tipos de campos hay?</h2>
<p>En MARC, los campos se dividen en dos categorías principales:</p>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 27%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th>Tipo de campo</th>
<th>Rango de etiquetas</th>
<th>Características principales</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Campos de control</strong></td>
<td>001–009</td>
<td>No tienen indicadores ni subcampos. Contienen información fija.</td>
</tr>
<tr class="even">
<td><strong>Campos de datos</strong></td>
<td>010 en adelante</td>
<td>Incluyen indicadores y subcampos, más complejos y ricos en contenido.</td>
</tr>
</tbody>
</table>
<p><a href="http://www.loc.gov/marc/bibliographic/bd00x.html">Guía de campos de control en MARC</a></p>
</section>
<section id="accesando-los-campos-de-un-archivo-marc" class="level2">
<h2 class="anchored" data-anchor-id="accesando-los-campos-de-un-archivo-marc">Accesando los campos de un archivo MARC</h2>
<div id="44299154" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pymarc <span class="im">import</span> MARCReader  <span class="co"># Importamos la clase MARCReader desde la biblioteca pymarc</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos el nombre del archivo MARC que queremos leer</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>my_marc_file <span class="op">=</span> <span class="st">"data/edited_69x_subject.mrc"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Abrimos el archivo en modo lectura binaria ('rb')</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(my_marc_file, <span class="st">'rb'</span>) <span class="im">as</span> data:</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Creamos un lector MARC que puede recorrer los registros en el archivo</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    reader <span class="op">=</span> MARCReader(data)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Iteramos sobre cada registro del archivo</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> record <span class="kw">in</span> reader:</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Imprimimos el contenido completo del registro en formato legible</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(record)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Detener después del primer registro (para ejemplo)</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=LDR  04819cpcaa2200505 a 4500
=001  12251425
=005  20240304103124.0
=008  140917i19772014ctu\\\\\\\\\\\\\\\\\eng\d
=035  \\$9(YUL)ead.mssa.ms.2000
=035  \\$a12251425
=040  \\$aCtY$beng$cCtY$edacs
=079  \\$a(OCoLC)1007214876
=090  \\$aMS 2000
=110  2\$aFamily Equality Council.$0http://id.loc.gov/authorities/names/no2012037822
=245  10$aFamily Equality Council records,$f1977-2014 (inclusive).
=300  \\$a11 linear feet. (23 boxes)
=351  \\$aThe materials are arranged according to document type.
=506  \\$aThe materials are open for research with the exception of the  electronic files, which are closed until processed.
=520  \\$aThis collection consists of the records of Family Equality Council, a national advocacy organization for esbian, gay, bisexual, transgender, and queer (LGBTQ) parents, guardians, and allies. Materials in the collection consist of correspondence, annual and quarterly reports, articles and clippings, board of directors records, event records, financial and fundraising records, publications, subject files, and electronic files. The collection is particularly strong both for its documentation of the group's activism and advocacy efforts, as well as its efforts to provide community for and document the everyday lives and experiences of LGBTQ families.
=524  \\$aFamily Equality Council Records (MS 2000).  Manuscripts and Archives, Yale University Library.
=540  \\$aCopyright is retained by the creator(s) of this collection for materials they have authored or otherwise produced. After the lifetime of the creator(s) or until January 1, 2039 (date), whichever comes first, copyright passes to Yale University whether such works are at Yale or physically located elsewhere in the world. Copyright status for other collection materials is unknown. Additional information is provided in the finding aid.
=544  \\$aRelated material: Rainbow Families records (MS 2006).
=545  \\$aFamily Equality Council is a national advocacy organization dedicated to securing equal rights for lesbian, gay, bisexual, transgender, and queer (LGBTQ) parents, guardians, and allies. Family Equality Council has its origins in the Gay Fathers Coalition, an organization founded in 1979. In 1986, the Gay Fathers Coalition expanded to include lesbian mothers, prompting the group to rename itself the Gay and Lesbian Parents Coalition International (GLPCI). In 1998, GLPCI changed its name to the Family Pride Coalition in order to include bisexual and transgender parents among its members and constituents. In that same year, a group of youth who had been involved with Family Pride Coalition established a separate advocacy organization for the children of LGBTQ parents, Children of Lesbians and Gays Everywhere (COLAGE). In 2007, the Family Pride Coalition merged with Rainbow Families, and in that same year renamed itself again as Family Equality Council. Later, the group dropped Council from its name, becoming Family Equality in 2018.
=546  \\$aThe materials are in English.
=555  \\$aThe finding aid is available in the repository and on the Internet.
=561  \\$aThe materials were the gift of Family Equality Council, 2014.
=610  20$aCOLAGE.$0http://id.loc.gov/authorities/names/no2008088417
=610  20$aFamily Equality Council.$0http://id.loc.gov/authorities/names/no2012037822
=610  20$aFamily Pride Coalition.
=610  20$aGay and Lesbian Parents Coalition International.$0http://id.loc.gov/authorities/names/nr2002025214
=610  20$aGay Fathers Coalition.
=610  20$aRainbow Families.
=650  \0$aAdoptive parents.$0http://id.loc.gov/authorities/subjects/sh92003241
=650  \0$aBisexuals$zUnited States.$0http://id.loc.gov/authorities/subjects/sh98006061
=650  \0$aFamilies$zUnited States.$0http://id.loc.gov/authorities/subjects/sh85047032
=650  \0$aGay fathers.$0http://id.loc.gov/authorities/subjects/sh90000760
=650  \0$aGay men$xLegal status, laws, etc.$zUnited States.
=650  \0$aGay parents.$0http://id.loc.gov/authorities/subjects/sh85061779
=650  \0$aGay rights$zUnited States.$0http://id.loc.gov/authorities/subjects/sh2008105072
=650  \0$aLesbian mothers.$0http://id.loc.gov/authorities/subjects/sh85076155
=650  \0$aTransgender people$zUnited States.$0http://id.loc.gov/authorities/subjects/sh2012000715
=650  \0$aTranssexuals$zUnited States.$0http://id.loc.gov/authorities/subjects/sh2003008858
=852  \\$aManuscripts and Archives,$bYale University Library,$eP.O. Box 208240, New Haven, CT  06520-8240.
=856  42$3View a description and listing of collection contents in the finding aid$uhttp://hdl.handle.net/10079/fa/mssa.ms.2000
=690  04$aLGBTQ resource.
</code></pre>
</div>
</div>
<p><strong>¿Qué estamos haciendo aquí?</strong> <code>record</code> es un objeto creado por PyMARC que representa un solo registro MARC.</p>
<p>Podemos utilizar este objeto para acceder solamente a los campos que nos interesan.</p>
<p>Para hacer esto, le decimos a Python cuál es el nombre o la etiqueta del campo MARC que queremos extraer.</p>
<div id="7fc5ce81" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pymarc <span class="im">import</span> MARCReader</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sys <span class="im">import</span> stderr</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos el nombre del archivo MARC que queremos leer</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>my_marc_file <span class="op">=</span> <span class="st">"data/edited_69x_subject.mrc"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Abrimos el archivo en modo lectura binaria ('rb')</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(my_marc_file, <span class="st">'rb'</span>) <span class="im">as</span> data:</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Creamos un lector MARC que puede recorrer los registros en el archivo</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    reader <span class="op">=</span> MARCReader(data)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Iteramos sobre cada registro del archivo</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> record <span class="kw">in</span> reader:</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Imprimimos el contenido completo del registro en formato legible</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(record[<span class="st">'245'</span>])</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Detener después del primer registro (para ejemplo)</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=245  10$aFamily Equality Council records,$f1977-2014 (inclusive).</code></pre>
</div>
</div>
<p>En esta línea de código <code>print(record)['245']</code> le estamos pidiendo a PyMARC que:</p>
<ul>
<li><p>Busque dentro del objeto record un campo cuya etiqueta sea 245 (que corresponde a la declaración de título del recurso).</p></li>
<li><p>Si lo encuentra, lo imprime.</p></li>
</ul>
<p>Este método es muy útil cuando trabajamos con muchos campos pero solo necesitamos unos específicos, como el título (245), el autor (100), o materias (650).</p>
<section id="comprendiendo-los-tipos-de-datos-y-objetos-en-python" class="level3">
<h3 class="anchored" data-anchor-id="comprendiendo-los-tipos-de-datos-y-objetos-en-python">Comprendiendo los tipos de datos y objetos en Python</h3>
<p>El objeto <code>record</code> que crea PyMARC <strong>parece</strong> comportarse como un diccionario de Python (<code>dict</code>).<br>
Y se accede a sus campos usando la sintaxis de corchetes, como:</p>
<p><code>record['245']</code></p>
<p>Sin embargo, si le preguntamos directamente a Python qué tipo de objeto es usando la función type(), obtenemos algo más específico:</p>
<p><code>&lt;class 'pymarc.record.Record'&gt;</code></p>
<p>Esto nos dice que record es una instancia de una clase llamada Record, definida por la biblioteca pymarc.</p>
<p><strong>¿Por qué es importante saber esto?</strong></p>
<p>En Python, cada objeto pertenece a un tipo de dato.</p>
<p>Saber qué tipo de dato estamos usando nos ayuda a:</p>
<ul>
<li><p>Acceder correctamente a sus partes internas (como campos o métodos).</p></li>
<li><p>Prevenir errores.</p></li>
<li><p>Usar las funciones adecuadas con cada tipo de dato.</p></li>
</ul>
<p>La sintaxis con corchetes (record[‘245’]) es una pista visual que recuerda a un diccionario (dict), donde una clave devuelve un valor:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>mi_diccionario <span class="op">=</span> {<span class="st">'clave'</span>: <span class="st">'valor'</span>}</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mi_diccionario[<span class="st">'clave'</span>])  <span class="co"># Imprime: valor</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Aunque <code>record</code> no es exactamente un diccionario, se comporta de manera similar en muchos aspectos, porque la clase <code>Record</code> fue diseñada para imitar ese comportamiento.</p>
<p><strong>Recursos para seguir aprendiendo</strong></p>
<p>No vamos a profundizar en esta lección en cómo funcionan las clases o los diccionarios, pero si te interesa, hay muchos recursos gratuitos donde puedes aprender más. <a href="https://www.w3schools.com/python/default.asp">Tutoriales de Python</a></p>
<p><strong>Comparación visual: Diccionario Python vs.&nbsp;Objeto <code>record</code> de PyMARC</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>Concepto</th>
<th>Diccionario en Python 🧺</th>
<th>Objeto <code>record</code> en PyMARC 📚</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Tipo de dato</strong></td>
<td><code>dict</code></td>
<td><code>pymarc.record.Record</code></td>
</tr>
<tr class="even">
<td><strong>Creación</strong></td>
<td><code>mi_dic = {'245': 'Título'}</code></td>
<td><code>record = MARCReader(data)</code></td>
</tr>
<tr class="odd">
<td><strong>Acceso a datos</strong></td>
<td><code>mi_dic['245']</code></td>
<td><code>record['245']</code></td>
</tr>
<tr class="even">
<td><strong>Qué devuelve</strong></td>
<td>El valor asociado a la clave</td>
<td>El campo MARC completo (con subcampos e indicadores)</td>
</tr>
<tr class="odd">
<td><strong>Pistas visuales</strong></td>
<td>Uso de corchetes <code>[]</code></td>
<td>También usa corchetes <code>[]</code></td>
</tr>
<tr class="even">
<td><strong>Métodos útiles</strong></td>
<td><code>.keys()</code>, <code>.values()</code></td>
<td><code>.get_fields()</code>, <code>.title()</code></td>
</tr>
<tr class="odd">
<td><strong>Es realmente un diccionario?</strong></td>
<td>✅ Sí</td>
<td>❌ No, pero se comporta similar</td>
</tr>
<tr class="even">
<td><strong>Más información</strong></td>
<td><a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">docs.python.org</a></td>
<td><a href="https://pymarc.readthedocs.io/">PyMARC docs</a></td>
</tr>
</tbody>
</table>
<p><strong>¿Por qué importa esto?</strong></p>
<p>Saber cómo acceder a la información dentro de un objeto es clave para trabajar con MARC en Python.<br>
Aunque <code>record</code> no sea técnicamente un diccionario, <strong>PyMARC lo diseñó para que se sienta como uno</strong>, facilitando su uso para principiantes.</p>
</section>
<section id="cómo-extraer-múltiples-campos-en-pymarc" class="level3">
<h3 class="anchored" data-anchor-id="cómo-extraer-múltiples-campos-en-pymarc">Cómo extraer múltiples campos en PyMARC</h3>
<p>Si queremos <strong>extraer varios campos MARC específicos</strong> (por ejemplo, autor, título, descripción física, autor adicional), podemos usar un bucle y acceder a cada uno individualmente dentro del registro.</p>
<div id="c265df7e" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pymarc <span class="im">import</span> MARCReader</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos el nombre del archivo MARC que queremos leer</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>my_marc_file <span class="op">=</span> <span class="st">"data/edited_69x_subject.mrc"</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Abrimos el archivo en modo lectura binaria ('rb')</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(my_marc_file, <span class="st">'rb'</span>) <span class="im">as</span> data:</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    reader <span class="op">=</span> MARCReader(data)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Iteramos sobre cada registro</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> record <span class="kw">in</span> reader:</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Extraemos e imprimimos varios campos MARC</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(record.leader)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(record[<span class="st">'100'</span>])  <span class="co"># Autor principal</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(record[<span class="st">'245'</span>])  <span class="co"># Título</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(record[<span class="st">'300'</span>])  <span class="co"># Descripción física</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(record[<span class="st">'700'</span>])  <span class="co"># Autor adicional (si lo hay)</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> <span class="pp">KeyError</span> <span class="im">as</span> error:</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>record<span class="sc">.</span>leader<span class="sc">}</span><span class="ss"> -&gt; </span><span class="sc">{</span><span class="bu">type</span>(error)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Detener después del primer registro (para ejemplo)</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>04819cpcaa2200505 a 4500
04819cpcaa2200505 a 4500 -&gt; &lt;class 'KeyError'&gt;
03423cpcaa2200421 a 4500
03423cpcaa2200421 a 4500 -&gt; &lt;class 'KeyError'&gt;
08224cpcaa22009377a 4500
=100  1\$aO'Leary, Jean.
=245  10$aJean O'Leary papers,$f1963-2005.
=300  \\$a18.35$flinear feet (20 boxes)
08224cpcaa22009377a 4500 -&gt; &lt;class 'KeyError'&gt;
05319cpcaa2200505 i 4500
05319cpcaa2200505 i 4500 -&gt; &lt;class 'KeyError'&gt;
03917cpcaa2200373 i 4500
=100  1\$aAntisdale, Michael.
=245  10$aMichael Antisdale and Mark R. Melanson Papers,$f1995-2003 (inclusive).
=300  \\$a1.2 linear foot (5 boxes)
=700  1\$aMelanson, Mark R.</code></pre>
</div>
</div>
<p><strong>Nota:</strong> Cada línea <code>print(record['XXX'])</code> intenta acceder a un campo específico por su etiqueta MARC.</p>
<p>Si el campo no existe en ese registro, PyMARC levantará un error de tipo <code>KeyError</code>.</p>
<p>Alternativamente, puedes usar la función <code>.get_fields()</code> para obtener varios campos en un objecto iterable sin levantar ningún error:</p>
<div id="268047b4" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pymarc <span class="im">import</span> MARCReader</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos el nombre del archivo MARC que queremos leer</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>my_marc_file <span class="op">=</span> <span class="st">"data/edited_69x_subject.mrc"</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Abrimos el archivo en modo lectura binaria ('rb')</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(my_marc_file, <span class="st">'rb'</span>) <span class="im">as</span> data:</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    reader <span class="op">=</span> MARCReader(data)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Iteramos sobre cada registro</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> record <span class="kw">in</span> reader:</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>        campos <span class="op">=</span> record.get_fields(<span class="st">'100'</span>, <span class="st">'245'</span>, <span class="st">'300'</span>, <span class="st">'700'</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> campo <span class="kw">in</span> campos:</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(campo)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Detener después del primer registro (para ejemplo)</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=245  10$aFamily Equality Council records,$f1977-2014 (inclusive).
=300  \\$a11 linear feet. (23 boxes)</code></pre>
</div>
</div>
<p>Esto es útil cuando quieres recorrer dinámicamente los campos encontrados en el registro.</p>
<div class="callout callout-style-default callout-caution callout-titled" title="Ejercicio">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ejercicio
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Descarga el archivo MARC presentado en esta unidad. Intenta:</p>
<ol type="1">
<li>Leerlo</li>
<li>Pedir multiples campos</li>
</ol>
<p>Imprime cada uno utilizando la función <code>print</code>.</p>
</div>
</div>
</div>
</section>
</section>
<section id="acceder-a-subcampos-marc-específicos-con-pymarc" class="level2">
<h2 class="anchored" data-anchor-id="acceder-a-subcampos-marc-específicos-con-pymarc">Acceder a subcampos MARC específicos con PyMARC</h2>
<p>Podemos usar el mismo método de “clave” (<code>key</code>) para acceder a los <strong>subcampos</strong> dentro de un campo MARC específico.</p>
<p><strong>Ejemplo:</strong></p>
<div id="b3debda9" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pymarc <span class="im">import</span> MARCReader</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos el nombre del archivo MARC que queremos leer</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>my_marc_file <span class="op">=</span> <span class="st">"data/edited_69x_subject.mrc"</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Abrimos el archivo en modo lectura binaria ('rb')</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(my_marc_file, <span class="st">'rb'</span>) <span class="im">as</span> data:</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    reader <span class="op">=</span> MARCReader(data)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Iteramos sobre cada registro</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> record <span class="kw">in</span> reader:</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Extraemos e imprimimos varios campos MARC</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Subcampo 'a':"</span>, record[<span class="st">'245'</span>][<span class="st">'a'</span>])</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Subcampo 'b':"</span>, record[<span class="st">'245'</span>][<span class="st">'b'</span>])</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Subcampo 'c':"</span>, record[<span class="st">'245'</span>][<span class="st">'c'</span>])</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Detener después del primer registro (para ejemplo)</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">KeyError</span> <span class="im">as</span> error:</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(error)</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># raise error</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Subcampo 'a': Family Equality Council records,
</code></pre>
</div>
</div>
<p><strong>¿Qué está ocurriendo aquí?</strong></p>
<p>En cada línea del bloque <code>print(...)</code> le estamos pidiendo a Python que haga lo siguiente:</p>
<ul>
<li>Busque dentro del objeto llamado record.</li>
<li>Localice el campo que tiene la etiqueta ‘245’ (es decir, el campo de título en MARC).</li>
<li>Dentro de ese campo, acceda al subcampo que tenga la letra <code>a</code>, <code>b</code> o <code>c</code>.</li>
</ul>
<p>Observa que cada campo de un registro se comporta como un diccionario de subcampos.</p>
<p>Este método funciona solo si el campo y los subcampos existen. Si algún subcampo está ausente en un registro, obtendrás un error del tipo <code>KeyError</code>.</p>
<p><strong>NOTA:</strong> El código anterior fracasa cuando trata de obtener el subcampo <code>b</code> que no está presente en el campo <code>245</code> del registro.</p>
<p>Para evitar eso, puedes usar el método <code>.get_subfields</code>, una forma más segura de accesso:</p>
<div id="4c708182" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pymarc <span class="im">import</span> MARCReader</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos el nombre del archivo MARC que queremos leer</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>my_marc_file <span class="op">=</span> <span class="st">"data/edited_69x_subject.mrc"</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Abrimos el archivo en modo lectura binaria ('rb')</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(my_marc_file, <span class="st">'rb'</span>) <span class="im">as</span> data:</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    reader <span class="op">=</span> MARCReader(data)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Iteramos sobre cada registro</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> record <span class="kw">in</span> reader:</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>        titulo <span class="op">=</span> record[<span class="st">'245'</span>]</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> titulo:</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Subcampo 'a':"</span>, titulo.get_subfields(<span class="st">'a'</span>))</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Subcampo 'b':"</span>, titulo.get_subfields(<span class="st">'b'</span>))</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Subcampo 'c':"</span>, titulo.get_subfields(<span class="st">'c'</span>))</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Detener después del primer registro (para ejemplo)</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Subcampo 'a': ['Family Equality Council records,']
Subcampo 'b': []
Subcampo 'c': []</code></pre>
</div>
</div>
<p>Esto devuelve listas con los subcampos encontrados (o listas vacías si no existen).</p>
</section>
<section id="métodos-útiles-en-pymarc-para-acceder-a-campos-marc" class="level2">
<h2 class="anchored" data-anchor-id="métodos-útiles-en-pymarc-para-acceder-a-campos-marc">Métodos útiles en PyMARC para acceder a campos MARC</h2>
<p>El objeto de tipo <code>record</code> que PyMARC crea ofrece varios métodos útiles para acceder a los datos.</p>
<p>Uno de ellos es <code>.value()</code>, que <strong>devuelve el contenido completo del campo como texto plano</strong>, sin subcampos (<code>$</code>) ni indicadores.</p>
<p>PyMARC incluye métodos “accesibles” como <code>.title()</code>, que devuelve el contenido del campo 245 ya procesado como un título legible para humanos.</p>
<p><strong>Métodos comunes de PyMARC explicados</strong></p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 36%">
<col style="width: 16%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Método</th>
<th>Se usa con…</th>
<th>¿Qué hace?</th>
<th>Tipo de dato que devuelve</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>record['245']</code></td>
<td><code>record</code></td>
<td>Accede a un campo MARC específico por etiqueta</td>
<td><code>Field</code></td>
<td><code>record['245']</code></td>
</tr>
<tr class="even">
<td><code>record['245']['a']</code></td>
<td><code>Field</code></td>
<td>Devuelve el contenido del subcampo <code>'a'</code> del campo</td>
<td><code>str</code> (texto)</td>
<td><code>record['245']['a']</code></td>
</tr>
<tr class="odd">
<td><code>record.get_fields('245')</code></td>
<td><code>record</code></td>
<td>Devuelve una lista de todos los campos con esa etiqueta</td>
<td><code>list</code> de <code>Field</code></td>
<td><code>record.get_fields('245')</code></td>
</tr>
<tr class="even">
<td><code>field.value()</code></td>
<td><code>Field</code></td>
<td>Devuelve todo el contenido del campo como texto plano</td>
<td><code>str</code></td>
<td><code>record['245'].value()</code></td>
</tr>
<tr class="odd">
<td><code>field.get_subfields('a')</code></td>
<td><code>Field</code></td>
<td>Devuelve una lista de todos los subcampos con esa etiqueta</td>
<td><code>list</code> de <code>str</code></td>
<td><code>record['245'].get_subfields('a')</code></td>
</tr>
<tr class="even">
<td><code>record.title()</code></td>
<td><code>record</code></td>
<td>Devuelve el título procesado como texto legible (usa campo 245)</td>
<td><code>str</code></td>
<td><code>record.title()</code></td>
</tr>
<tr class="odd">
<td><code>record['001'].value()</code></td>
<td><code>record</code></td>
<td>Devuelve el número de control del registro (campo 001) como texto</td>
<td><code>str</code></td>
<td><code>record['001'].value()</code></td>
</tr>
<tr class="even">
<td><code>type(objeto)</code></td>
<td>Cualquier objeto</td>
<td>Muestra el tipo de dato del objeto</td>
<td><code>type</code></td>
<td><code>type(record['245'])</code></td>
</tr>
</tbody>
</table>
<p>Puedes combinar varios métodos, por ejemplo:</p>
<div id="2c5a6247" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span>  pymarc <span class="im">import</span> MARCReader</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos el nombre del archivo MARC que queremos leer</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>my_marc_file <span class="op">=</span> <span class="st">"data/edited_69x_subject.mrc"</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Abrimos el archivo en modo lectura binaria ('rb')</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(my_marc_file, <span class="st">'rb'</span>) <span class="im">as</span> data:</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    reader <span class="op">=</span> MARCReader(data)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Iteramos sobre cada registro</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> record <span class="kw">in</span> reader:</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Exploramos el tipo de objeto 'record' y su campo 245</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Tipo del objeto completo:"</span>)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="bu">type</span>(record))</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>()</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Campo 245 crudo:"</span>)</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(record[<span class="st">'245'</span>])</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Tipo del campo 245:"</span>)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="bu">type</span>(record[<span class="st">'245'</span>]))</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>()</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Campo 245 como texto (value):"</span>)</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(record[<span class="st">'245'</span>].value())</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Tipo del texto:"</span>)</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="bu">type</span>(record[<span class="st">'245'</span>].value()))</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>()</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Subcampo 'a' del campo 245:"</span>)</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(record[<span class="st">'245'</span>][<span class="st">'a'</span>])</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Tipo del subcampo 'a':"</span>)</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="bu">type</span>(record[<span class="st">'245'</span>][<span class="st">'a'</span>]))</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>()</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Método record.title():"</span>)</span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(record.title)</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Tipo del resultado de record.title():"</span>)</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="bu">type</span>(record.title))</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>()</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Mostramos todos los campos 650 y 651 (materias)</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Campos de materias (650 y 651):"</span>)</span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a>        materias <span class="op">=</span> record.get_fields(<span class="st">'650'</span>, <span class="st">'651'</span>)</span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> campo <span class="kw">in</span> materias:</span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(campo)</span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>()</span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Subcampos 'a' y 'b' del campo 245</span></span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a>        titulo <span class="op">=</span> record[<span class="st">'245'</span>]</span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> titulo:</span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Subcampos 'a' y 'b' del campo 245:"</span>)</span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a>            subcampos <span class="op">=</span> titulo.get_subfields(<span class="st">'a'</span>, <span class="st">'b'</span>)</span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> sub <span class="kw">in</span> subcampos:</span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(sub)</span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Detener después del primer registro (para ejemplo)</span></span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tipo del objeto completo:
&lt;class 'pymarc.record.Record'&gt;

Campo 245 crudo:
=245  10$aFamily Equality Council records,$f1977-2014 (inclusive).
Tipo del campo 245:
&lt;class 'pymarc.field.Field'&gt;

Campo 245 como texto (value):
Family Equality Council records, 1977-2014 (inclusive).
Tipo del texto:
&lt;class 'str'&gt;

Subcampo 'a' del campo 245:
Family Equality Council records,
Tipo del subcampo 'a':
&lt;class 'str'&gt;

Método record.title():
Family Equality Council records,
Tipo del resultado de record.title():
&lt;class 'str'&gt;

Campos de materias (650 y 651):
=650  \0$aAdoptive parents.$0http://id.loc.gov/authorities/subjects/sh92003241
=650  \0$aBisexuals$zUnited States.$0http://id.loc.gov/authorities/subjects/sh98006061
=650  \0$aFamilies$zUnited States.$0http://id.loc.gov/authorities/subjects/sh85047032
=650  \0$aGay fathers.$0http://id.loc.gov/authorities/subjects/sh90000760
=650  \0$aGay men$xLegal status, laws, etc.$zUnited States.
=650  \0$aGay parents.$0http://id.loc.gov/authorities/subjects/sh85061779
=650  \0$aGay rights$zUnited States.$0http://id.loc.gov/authorities/subjects/sh2008105072
=650  \0$aLesbian mothers.$0http://id.loc.gov/authorities/subjects/sh85076155
=650  \0$aTransgender people$zUnited States.$0http://id.loc.gov/authorities/subjects/sh2012000715
=650  \0$aTranssexuals$zUnited States.$0http://id.loc.gov/authorities/subjects/sh2003008858

Subcampos 'a' y 'b' del campo 245:
Family Equality Council records,</code></pre>
</div>
</div>
<p><strong>¿Qué incluye este script?</strong></p>
<ul>
<li><p>Análisis del campo 245 con distintos métodos (<code>['a']</code>, <code>.value()</code>, <code>.title()</code>)</p></li>
<li><p>Acceso seguro a subcampos</p></li>
<li><p>Extracción de materias geográficas y temáticas (650, 651)</p></li>
<li><p>Uso de <code>type()</code> para mostrar los tipos de datos</p></li>
</ul>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./02_introduccion_python.html" class="pagination-link" aria-label="Python 101">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Python 101</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./04_introduccion_pymarc2.html" class="pagination-link" aria-label="Búsqueda con PyMARC">
        <span class="nav-page-text">Búsqueda con PyMARC</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>